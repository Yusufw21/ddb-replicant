# Настройка Railway Volume для сохранения данных

## Что было сделано:

1. ✅ Обновлен `server.js` для работы с папкой `data/`
2. ✅ Все пути изменены с корня проекта на `data/`
3. ✅ Существующие данные мигрированы в `data/`
4. ✅ База данных SQLite теперь сохраняется в `data/posts.db`
5. ✅ Файлы uploads сохраняются в `data/uploads/`

## Что нужно сделать в Railway:

### 1. Создать Volume

1. Зайди в свой проект на Railway
2. Нажми **"New"** → **"Volume"**
3. Назови volume: `data`
4. Подключи к своему сервису
5. **Mount path: `/app/data`**

### 2. Деплой

1. Закоммить изменения:

   ```bash
   git add .
   git commit -m "Add Railway Volume support for persistent data"
   git push
   ```

2. Railway автоматически:
   - Подключит Volume к `/app/data`
   - Сохранит все данные в Volume
   - При передеплое данные не потеряются

## Структура данных в Volume:

```
/app/data/
├── posts.db          # База данных SQLite
└── uploads/          # Загруженные файлы
    ├── *.jpg         # Изображения постов
    └── syllabi/      # Файлы силлабусов
        └── *.pdf, *.txt, *.doc
```

## Проверка после деплоя:

1. Зайди на сайт
2. Создай тестовый пост с изображением
3. Загрузи силлабус
4. Передеплой проект
5. Проверь что данные сохранились

## Важно:

- Volume создается один раз и привязан к проекту
- Данные сохраняются между деплоями
- Если удалишь Volume - все данные потеряются
- Volume имеет ограничение по размеру (зависит от плана Railway)
