# Deploy на Railway

## Шаги

1. Установите Node.js 18+.
2. Локально проверьте сборку фронтенда и старт сервера:
   - `npm run build`
   - `npm start`
3. Закоммитьте изменения и пушните в репозиторий GitHub.
4. В Railway создайте новый проект → Deploy from GitHub → выберите репозиторий.
5. В Railway установите переменные окружения:
   - `NODE_ENV=production`
   - `KEYCODE=ВАШ_МАСТЕР_КОД` (для смены пароля админа)
6. В Railway установите команды:
   - Build: `npm run build`
   - Start: `npm start`
7. После деплоя откройте домен Railway и проверьте работу.

## Примечания

- Сервер слушает порт `process.env.PORT` (Railway задаёт автоматически).
- Статика фронтенда раздаётся из `ddb-site/dist`.
- В разработке CORS включён для `http://localhost:5173`, в продакшене — отключён (фронт и бэк на одном домене).
- Все запросы фронтенда идут на относительные пути `/api` и `/uploads`.
